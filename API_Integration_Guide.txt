ADAU1452 API 集成指南
====================

问题解决：
之前创建的 ADAU1452_API_Example.ino 与原有的 adau1452_simple_example.ino 
存在 setup() 和 loop() 函数冲突，已删除该文件。

推荐的集成方案：
================

方案1：直接集成（推荐）
---------------------
将 ADAU1452_API_Integration.ino 中的代码添加到 adau1452_simple_example.ino 的末尾：

1. 打开 adau1452_simple_example.ino
2. 将 ADAU1452_API_Integration.ino 的内容复制到文件末尾
3. 在 setup() 函数末尾添加：
   demonstrateAPI();  // 可选：演示API功能

4. 在 loop() 函数中将：
   processCommand(command);
   替换为：
   processAPICommand(command);

5. 现在可以使用两种命令方式：
   - 原有命令：v0.5, m1, e1,1 等
   - API命令：api_vol 0.5, api_mute, api_eq 1 等

方案2：独立项目使用
-----------------
如果要在其他项目中使用API：

1. 复制以下文件到新项目：
   - ADAU1452_API.h
   - ADAU1452_API.cpp
   - 所有 SigmaStudio 生成的头文件
   - USER_SETTINGS.h

2. 在新项目中包含：
   #include "ADAU1452_API.h"

3. 调用API函数：
   ADAU1452_Init();
   ADAU1452_SetVolume(0.5);
   // 等等...

可用的API函数：
==============
- ADAU1452_API_Init()
- ADAU1452_API_SetVolume(float)
- ADAU1452_API_GetVolume()
- ADAU1452_API_SetMute(bool)
- ADAU1452_API_GetMute()
- ADAU1452_API_SetEQEnabled(bool)
- ADAU1452_API_SetEQPreset(int)
- ADAU1452_API_ReadAllLevelsDB(float[6])
- ADAU1452_API_GetStatus(ADAU1452_API_Status*)
- 更多函数请参考 ADAU1452_API_Integration.ino

测试命令：
=========
编译并上传后，可以通过串口发送以下命令测试：

原有命令：
- v0.5      (设置音量50%)
- m1        (静音)
- m0        (取消静音)
- e0,1      (开启EQ)
- p1        (应用低音预设)

新增API命令：
- api_vol 0.5    (通过API设置音量)
- api_mute       (通过API静音)
- api_unmute     (通过API取消静音)
- api_eq 1       (通过API应用预设)
- api_status     (通过API查询状态)
- api_levels     (通过API读取电平)
- api_help       (显示API命令帮助)

注意事项：
=========
1. 确保所有依赖文件都在项目中
2. 检查I2C连接和电源
3. API函数会调用原有的功能，不会产生冲突
4. 可以同时使用原有命令和API命令
5. API函数返回bool值表示操作是否成功

文件说明：
=========
- ADAU1452_API.h              - API头文件声明
- ADAU1452_API.cpp            - API实现文件  
- ADAU1452_API_Integration.ino - 集成代码（添加到原文件）
- ADAU1452_API_README.md      - 详细文档
- API_Integration_Guide.txt   - 本指南文件